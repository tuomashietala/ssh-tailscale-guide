<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SSH + Tailscale ‚Äî Beginner's Guide</title>
<style>
  :root {
    --bg: #0f0f0f;
    --surface: #1a1a1a;
    --surface-hover: #222;
    --border: #2a2a2a;
    --text: #e0e0e0;
    --text-muted: #888;
    --accent: #34d399;
    --accent-dim: rgba(52, 211, 153, 0.1);
    --accent-glow: rgba(52, 211, 153, 0.15);
    --tag-bg: rgba(52, 211, 153, 0.12);
    --blue: #6c9bff;
    --blue-dim: rgba(108, 155, 255, 0.1);
    --orange: #ffb432;
    --orange-dim: rgba(255, 180, 50, 0.08);
    --radius: 12px;
    --radius-sm: 8px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Inter, Roboto, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.65;
    min-height: 100vh;
  }

  .container {
    max-width: 720px;
    margin: 0 auto;
    padding: 2rem 1.25rem 4rem;
  }

  .header {
    text-align: center;
    padding: 2.5rem 0 2rem;
    border-bottom: 1px solid var(--border);
    margin-bottom: 2rem;
  }

  .header h1 {
    font-size: 1.6rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.3;
    margin-bottom: 0.75rem;
    background: linear-gradient(90deg, #fff, var(--accent), #fff, var(--accent));
    background-size: 300% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 6s ease infinite;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .header .subtitle {
    font-size: 0.9rem;
    color: var(--text-muted);
    line-height: 1.6;
  }

  .meta-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    margin-top: 1rem;
  }

  .tag {
    font-size: 0.7rem;
    padding: 0.25rem 0.6rem;
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-muted);
    border-radius: 4px;
    border: none;
    font-weight: 400;
    letter-spacing: 0.01em;
  }

  .roadmap {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-bottom: 2rem;
  }

  .roadmap-step {
    font-size: 0.7rem;
    padding: 0.35rem 0.65rem;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    color: var(--text-muted);
    white-space: nowrap;
    cursor: pointer;
    transition: border-color 0.2s, color 0.2s, background 0.2s;
    text-decoration: none;
  }

  .roadmap-step:hover {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-dim);
  }

  .roadmap-step.active {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-dim);
  }

  .section { margin-bottom: 0.75rem; }

  details {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  details[open] {
    border-color: rgba(52, 211, 153, 0.25);
    box-shadow: 0 0 20px var(--accent-glow);
  }

  summary {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95rem;
    list-style: none;
    user-select: none;
    transition: background 0.15s;
  }

  summary:hover { background: var(--surface-hover); }
  summary::-webkit-details-marker { display: none; }

  summary::before {
    content: '';
    width: 8px;
    height: 8px;
    border-right: 2px solid var(--accent);
    border-bottom: 2px solid var(--accent);
    transform: rotate(-45deg);
    transition: transform 0.2s;
    flex-shrink: 0;
  }

  details[open] summary::before { transform: rotate(45deg); }

  .step-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
    width: 28px;
    text-align: center;
  }

  .section-content {
    padding: 0 1.25rem 1.25rem;
    animation: fadeIn 0.2s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-4px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .section-content h3 {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 1.25rem 0 0.5rem;
  }

  .section-content h3:first-child { margin-top: 0.25rem; }

  .section-content p {
    color: var(--text);
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
  }

  .section-content ul, .section-content ol {
    margin: 0.5rem 0 0.75rem 1.25rem;
    font-size: 0.9rem;
  }

  .section-content li {
    margin-bottom: 0.35rem;
    line-height: 1.55;
  }

  .section-content li strong { color: #fff; }

  pre {
    background: #111;
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 0.85rem 1rem;
    overflow-x: auto;
    margin: 0.6rem 0 0.75rem;
    font-size: 0.82rem;
    line-height: 1.6;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  code {
    font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', Consolas, monospace;
    font-size: 0.83rem;
  }

  p code, li code {
    background: rgba(255,255,255,0.07);
    padding: 0.15rem 0.4rem;
    border-radius: 4px;
    font-size: 0.82rem;
  }

  .comment { color: #666; }

  .table-wrap {
    overflow-x: auto;
    margin: 0.75rem 0;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.82rem;
  }

  th {
    text-align: left;
    padding: 0.6rem 0.75rem;
    background: rgba(52, 211, 153, 0.08);
    color: var(--accent);
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    white-space: nowrap;
  }

  td {
    padding: 0.55rem 0.75rem;
    border-top: 1px solid var(--border);
    vertical-align: top;
  }

  td code { font-size: 0.8rem; white-space: nowrap; }

  tr:hover td { background: rgba(255,255,255,0.015); }

  .highlight {
    background: var(--accent-dim);
    border-left: 3px solid var(--accent);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    padding: 0.75rem 1rem;
    margin: 0.75rem 0;
    font-size: 0.85rem;
  }

  .highlight strong { color: #fff; }

  .info {
    background: var(--blue-dim);
    border-left-color: var(--blue);
  }

  .info strong { color: var(--blue); }

  .warning {
    background: var(--orange-dim);
    border-left-color: var(--orange);
  }

  .warning strong { color: var(--orange); }

  .compare {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    margin: 0.75rem 0;
  }

  .compare-card {
    padding: 0.85rem;
    border-radius: var(--radius-sm);
    font-size: 0.82rem;
  }

  .compare-card.bad {
    background: rgba(255, 80, 80, 0.06);
    border: 1px solid rgba(255, 80, 80, 0.15);
  }

  .compare-card.good {
    background: var(--accent-dim);
    border: 1px solid rgba(52, 211, 153, 0.15);
  }

  .compare-card h4 {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin-bottom: 0.5rem;
  }

  .compare-card.bad h4 { color: #ff5050; }
  .compare-card.good h4 { color: var(--accent); }

  .compare-card ul { list-style: none; margin: 0; padding: 0; }

  .compare-card li { padding: 0.2rem 0; font-size: 0.8rem; }

  .footer {
    text-align: center;
    padding-top: 2rem;
    margin-top: 2rem;
    border-top: 1px solid var(--border);
    color: var(--text-muted);
    font-size: 0.8rem;
  }

  @media (max-width: 480px) {
    .container { padding: 1.25rem 1rem 3rem; }
    .header h1 { font-size: 1.35rem; }
    summary { padding: 0.85rem 1rem; font-size: 0.9rem; }
    .section-content { padding: 0 1rem 1rem; }
    .compare { grid-template-columns: 1fr; }
    pre { font-size: 0.78rem; padding: 0.7rem; }
  }
</style>
</head>
<body>
<canvas id="particles" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;"></canvas>
<div class="container" style="position:relative;z-index:1;">

  <div class="header">
    <h1>SSH + Tailscale</h1>
    <p class="subtitle">A beginner's guide to secure remote access</p>
    <div class="meta-tags">
      <span class="tag">SSH</span>
      <span class="tag">Tailscale</span>
      <span class="tag">Linux / Mac / Windows</span>
      <span class="tag">Firewall</span>
      <span class="tag">Free</span>
    </div>
  </div>

  <div class="roadmap">
    <a class="roadmap-step active" data-target="part-1">1. Tailscale</a>
    <a class="roadmap-step" data-target="part-2">2. SSH Setup</a>
    <a class="roadmap-step" data-target="part-3">3. Keys</a>
    <a class="roadmap-step" data-target="part-4">4. Config</a>
    <a class="roadmap-step" data-target="part-5">5. Security</a>
    <a class="roadmap-step" data-target="part-6">6. Firewall</a>
    <a class="roadmap-step" data-target="part-7">7. Bonus</a>
  </div>

  <!-- Intro -->
  <div class="section">
    <details open>
      <summary>
        <span class="step-icon">üí°</span>
        What are SSH and Tailscale?
      </summary>
      <div class="section-content">
        <h3>SSH (Secure Shell)</h3>
        <p>A secure way to remotely connect to another computer via the terminal. All traffic is encrypted. Used for server management, file transfers, and tunneling.</p>

        <h3>Tailscale</h3>
        <p>Tailscale creates your own private network from your devices ‚Äî no matter where they are.</p>

        <div class="highlight info">
          <strong>Tailscale is called a "VPN" but it's not what you might think.</strong> Traditional VPNs (like NordVPN or ExpressVPN) route all your internet traffic through a remote server to hide your IP or bypass geo-blocks. Tailscale doesn't do that. It only connects <em>your own devices</em> to each other directly (peer-to-peer), creating a private network between them. Your regular internet traffic stays unchanged. Think of it as a secure tunnel between your machines, not a privacy proxy for browsing.
        </div>

        <h3>The problem Tailscale solves</h3>
        <p>Normally, SSH only works easily on the <strong>same network</strong> (both computers on the same WiFi). Remote access would require port forwarding, a static IP, or a VPN server. Tailscale handles all of this automatically.</p>

        <div class="compare">
          <div class="compare-card bad">
            <h4>‚ùå Without Tailscale</h4>
            <ul>
              <li>Only works on same network</li>
              <li>Requires router port forwarding</li>
              <li>SSH port exposed to the internet</li>
              <li>IP changes between networks</li>
              <li>Doesn't work on mobile data</li>
            </ul>
          </div>
          <div class="compare-card good">
            <h4>‚úÖ Tailscale + SSH</h4>
            <ul>
              <li>Works from anywhere</li>
              <li>No ports to open</li>
              <li>SSH only visible to your network</li>
              <li>Tailscale IP stays the same</li>
              <li>Works on 4G/5G too</li>
            </ul>
          </div>
        </div>

        <div class="highlight">
          <strong>Why Tailscale?</strong> Free (up to 100 devices), no VPN server needed, encrypted (WireGuard-based), peer-to-peer, simple to set up.
        </div>
      </div>
    </details>
  </div>

  <!-- Part 1: Tailscale -->
  <div class="section" id="part-1">
    <details>
      <summary>
        <span class="step-icon">üåê</span>
        Part 1 ‚Äî Tailscale: Your Private Network
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, both of your machines will be on the same private network and able to see each other ‚Äî from anywhere in the world.
        </div>

        <h3>1.1 Create an account</h3>
        <ol>
          <li>Go to <strong>tailscale.com</strong></li>
          <li>Click "Get Started"</li>
          <li>Sign in with Google, Microsoft, or GitHub</li>
        </ol>

        <h3>1.2 Install</h3>
        <p><strong>Ubuntu/Debian:</strong></p>
        <pre><code><span class="comment"># Add Tailscale repo and install</span>
curl -fsSL https://tailscale.com/install.sh | sh</code></pre>

        <p><strong>Mac:</strong></p>
        <pre><code><span class="comment"># From the App Store: search "Tailscale", or:</span>
brew install --cask tailscale</code></pre>

        <p><strong>Windows:</strong> Download the installer from <code>tailscale.com/download/windows</code></p>

        <h3>1.3 Start and log in</h3>
        <pre><code>sudo tailscale up</code></pre>
        <p>A link will appear in the terminal ‚Äî open it in your browser and log in. Your machine will join your network.</p>

        <h3>1.4 Verify the connection</h3>
        <p>Repeat on the other machine (install + <code>sudo tailscale up</code>). Then:</p>
        <pre><code><span class="comment"># List all machines on your network</span>
tailscale status

<span class="comment"># Example output:</span>
100.64.1.1    home-pc       user@gmail.com  linux
100.64.1.2    work-laptop   user@gmail.com  macos</code></pre>

        <h3>1.5 Test it</h3>
        <pre><code><span class="comment"># Ping your other machine</span>
ping 100.64.1.1

<span class="comment"># Or use the machine name (MagicDNS):</span>
ping home-pc</code></pre>

        <div class="highlight info">
          <strong>Tip:</strong> Tailscale sets up DNS names automatically. You can use machine names instead of IP addresses.
        </div>
      </div>
    </details>
  </div>

  <!-- Part 2: SSH -->
  <div class="section" id="part-2">
    <details>
      <summary>
        <span class="step-icon">üîó</span>
        Part 2 ‚Äî Setting Up SSH
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, you'll be able to open a terminal on your computer and remotely control another machine via the command line.
        </div>

        <h3>2.1 Check if SSH is installed</h3>
        <pre><code>ssh -V
<span class="comment"># If you see a version (e.g. OpenSSH_9.x), SSH is installed</span></code></pre>

        <p>If not, install it:</p>
        <p><strong>Ubuntu/Debian:</strong></p>
        <pre><code>sudo apt update && sudo apt install openssh-client openssh-server -y</code></pre>

        <p><strong>Mac:</strong> SSH client comes pre-installed. For the server: System Settings ‚Üí General ‚Üí Sharing ‚Üí Remote Login.</p>

        <p><strong>Windows</strong> (PowerShell as admin):</p>
        <pre><code>Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0
Start-Service sshd
Set-Service -Name sshd -StartupType Automatic</code></pre>

        <h3>2.2 Start the SSH server</h3>
        <p>Do this on the machine you want to connect <strong>to</strong>:</p>
        <pre><code><span class="comment"># Check if SSH server is running</span>
sudo systemctl status ssh

<span class="comment"># Start it</span>
sudo systemctl start ssh

<span class="comment"># Start automatically on boot</span>
sudo systemctl enable ssh</code></pre>

        <div class="highlight info">
          <strong>What's systemctl?</strong> Linux's service manager. <code>enable</code> = start automatically on boot, <code>start</code> = start now.
        </div>

        <h3>2.3 Connect!</h3>
        <p>Run this on the machine you're connecting <strong>from</strong> (your laptop, for example). Replace <code>john</code> with the actual username on the target machine, and replace the IP with the one you saw in <code>tailscale status</code>:</p>
        <pre><code>ssh john@100.64.1.1
<span class="comment"># Or with the machine name:</span>
ssh john@home-pc</code></pre>

        <p>On the first connection, you'll see something like this:</p>
        <pre><code>The authenticity of host '100.64.1.1' can't be established.
ED25519 key fingerprint is SHA256:abc123...
Are you sure you want to continue connecting (yes/no/[fingerprint])?</code></pre>
        <p>Type <code>yes</code> and press Enter. This is normal ‚Äî SSH is verifying the target machine's identity. You'll only see this once per machine.</p>

        <div class="highlight warning">
          <strong>Note:</strong> When typing your password, nothing appears on screen ‚Äî not even asterisks. This is normal. Just type it and press Enter.
        </div>
      </div>
    </details>
  </div>

  <!-- Part 3: SSH Keys -->
  <div class="section" id="part-3">
    <details>
      <summary>
        <span class="step-icon">üîë</span>
        Part 3 ‚Äî SSH Keys (Passwordless Login)
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, you'll be able to connect to your machine without typing a password ‚Äî using cryptographic keys that are both more convenient and more secure.
        </div>

        <p>Typing your password every time is tedious. SSH keys solve this.</p>

        <h3>3.1 Generate a key pair</h3>
        <p>On the machine you're connecting <strong>from</strong>:</p>
        <pre><code>ssh-keygen -t ed25519

<span class="comment"># It asks where to save ‚Üí press Enter (default is fine)</span>
<span class="comment"># It asks for a passphrase ‚Üí you can leave it empty or set one</span></code></pre>

        <div class="highlight info">
          <strong>What's ed25519?</strong> It's the type of encryption used for your key. Ed25519 is a modern, fast, and secure algorithm ‚Äî considered the best choice today. The older alternative (RSA) still works but produces larger, slower keys. Think of it like choosing between a modern deadbolt and an old padlock ‚Äî both lock the door, but one is simply better.
        </div>

        <div class="highlight info">
          <strong>What happened?</strong> Two files were created:
          <br>‚Ä¢ <code>~/.ssh/id_ed25519</code> ‚Äî private key (NEVER share this with anyone!)
          <br>‚Ä¢ <code>~/.ssh/id_ed25519.pub</code> ‚Äî public key (this one gets shared)
          <br><br>Think of it like a lock and a key. The public key is a lock you place on the target machine. The private key is the only key that opens it.
        </div>

        <h3>3.2 Copy the public key to the target machine</h3>
        <p>Replace <code>john@home-pc</code> with your actual username and machine name/IP from earlier steps:</p>
        <pre><code>ssh-copy-id john@home-pc

<span class="comment"># It will ask for your password ‚Äî enter it one last time.</span>
<span class="comment"># This copies your public key to the target machine's</span>
<span class="comment"># ~/.ssh/authorized_keys file automatically.</span></code></pre>

        <h3>3.3 Test it</h3>
        <pre><code>ssh john@home-pc
<span class="comment"># No password prompt! üéâ</span></code></pre>
        <p>If it still asks for a password, check that the key was copied correctly: <code>ssh -v john@home-pc</code> (verbose mode shows what's happening).</p>
      </div>
    </details>
  </div>

  <!-- Part 4: SSH Config -->
  <div class="section" id="part-4">
    <details>
      <summary>
        <span class="step-icon">‚öôÔ∏è</span>
        Part 4 ‚Äî SSH Config (Shortcuts)
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, you'll connect to any machine by typing just <code>ssh home</code> ‚Äî a single short command instead of remembering usernames and IPs.
        </div>

        <p>Instead of typing <code>ssh john@home-pc</code> every time, you can create shortcuts. Open (or create) the config file:</p>
        <pre><code>nano ~/.ssh/config</code></pre>
        <p>If the file doesn't exist yet, that's fine ‚Äî <code>nano</code> will create it for you.</p>

        <div class="highlight info">
          <strong>nano</strong> is a simple terminal text editor. Type normally to add text. Save with <code>Ctrl+S</code> (or <code>Ctrl+O</code> ‚Üí Enter), exit with <code>Ctrl+X</code>. Arrow keys to move around.
        </div>

        <p>Paste the following into the file. Replace <code>home-pc</code> with your target machine's Tailscale name (from <code>tailscale status</code>), and <code>john</code> with the username you use to log in:</p>
        <pre><code>Host home
    HostName home-pc
    User john</code></pre>

        <p>Save (<code>Ctrl+S</code>) and exit (<code>Ctrl+X</code>). Now you can connect with just:</p>
        <pre><code>ssh home</code></pre>

        <h3>Multiple machines?</h3>
        <pre><code>Host home
    HostName home-pc
    User john

Host work
    HostName work-laptop
    User john
    Port 4422

Host raspi
    HostName raspberry-pi
    User pi</code></pre>
      </div>
    </details>
  </div>

  <!-- Part 5: Security -->
  <div class="section" id="part-5">
    <details>
      <summary>
        <span class="step-icon">üõ°Ô∏è</span>
        Part 5 ‚Äî Basic Security
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, your SSH server will be hardened against common attacks ‚Äî root login disabled, password brute-forcing impossible, and optionally running on a non-standard port.
        </div>

        <p>These changes are made on the <strong>target machine</strong> (the one you connect to). Open the SSH server config file:</p>
        <pre><code>sudo nano /etc/ssh/sshd_config</code></pre>
        <p>This is a long file with many settings. You'll scroll through it to find and change specific lines. Use arrow keys to navigate. Lines starting with <code>#</code> are comments (disabled). To enable a setting, remove the <code>#</code> at the start of the line.</p>

        <h3>5.1 Change the port</h3>
        <p>Default port 22 is the first thing attackers scan for. Changing it is a simple but effective defense. Scroll until you find:</p>
        <pre><code><span class="comment">#Port 22</span></code></pre>
        <p>Remove the <code>#</code> and change <code>22</code> to a different number, like <code>4422</code>:</p>
        <pre><code>Port 4422</code></pre>

        <div class="highlight info">
          <strong>Note:</strong> With Tailscale, this is less critical since your SSH port isn't directly exposed to the internet ‚Äî but it doesn't hurt either. If you change the port, you'll need to use <code>ssh -p 4422 john@home-pc</code> to connect (or add <code>Port 4422</code> to your SSH config from Part 4).
        </div>

        <h3>5.2 Disable root login</h3>
        <p>Find the line that says <code>#PermitRootLogin</code> (or <code>PermitRootLogin yes</code>) and change it to:</p>
        <pre><code>PermitRootLogin no</code></pre>
        <p>Root is the "god user" with full access. Always log in with your own account and use <code>sudo</code> when needed.</p>

        <h3>5.3 Disable password authentication</h3>
        <p>Find the line <code>#PasswordAuthentication yes</code> and change it to:</p>
        <pre><code>PasswordAuthentication no</code></pre>
        <p>This forces key-based login only ‚Äî much more secure than passwords.</p>

        <div class="highlight warning">
          <strong>‚ö†Ô∏è Only do this after confirming your SSH keys work!</strong> Before saving, open a <em>second terminal</em> and test <code>ssh john@home-pc</code>. If it lets you in without a password, you're safe to save. If not, don't disable password auth yet ‚Äî go back to Part 3.
        </div>

        <h3>5.4 Apply changes</h3>
        <p>Save (<code>Ctrl+S</code>) and exit (<code>Ctrl+X</code>), then restart the SSH server:</p>
        <pre><code>sudo systemctl restart ssh</code></pre>
      </div>
    </details>
  </div>

  <!-- Part 6: Firewall -->
  <div class="section" id="part-6">
    <details>
      <summary>
        <span class="step-icon">üß±</span>
        Part 6 ‚Äî Firewall Setup (UFW)
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> By the end of this part, your machine will block all unwanted incoming connections while still allowing SSH and Tailscale traffic through.
        </div>

        <h3>What's a firewall?</h3>
        <p>A firewall controls which network connections are allowed in and out of your machine. Think of it as a bouncer ‚Äî it only lets in traffic you've approved.</p>
        <p><strong>UFW</strong> (Uncomplicated Firewall) is the standard firewall tool on Ubuntu (pre-installed) and available on Debian. It's a simple frontend for the underlying Linux firewall system.</p>

        <h3>6.1 Check if UFW is installed</h3>
        <pre><code>sudo ufw status
<span class="comment"># If you see "inactive" or a rules list, it's installed</span>
<span class="comment"># If not found, install it:</span>
sudo apt install ufw -y</code></pre>

        <h3>6.2 Set default policies</h3>
        <p>Start by blocking everything incoming and allowing everything outgoing:</p>
        <pre><code><span class="comment"># Block all incoming connections by default</span>
sudo ufw default deny incoming

<span class="comment"># Allow all outgoing connections by default</span>
sudo ufw default allow outgoing</code></pre>

        <div class="highlight info">
          <strong>Why?</strong> This means nothing can connect to your machine unless you explicitly allow it. Your machine can still reach the internet normally.
        </div>

        <h3>6.3 Allow SSH</h3>
        <p>Allow the SSH port you set in Part 5 through the firewall. If you changed it to 4422 as recommended:</p>
        <pre><code>sudo ufw allow 4422/tcp</code></pre>

        <h3>6.4 Allow Tailscale traffic</h3>
        <pre><code><span class="comment"># Allow all traffic on the Tailscale interface</span>
sudo ufw allow in on tailscale0</code></pre>

        <div class="highlight info">
          <strong>Why tailscale0?</strong> Tailscale creates its own virtual network interface. This rule ensures your Tailscale devices can talk to each other freely, while the firewall still protects you from the public internet.
        </div>

        <h3>6.5 Enable the firewall</h3>
        <pre><code>sudo ufw enable

<span class="comment"># It will warn about disrupting SSH ‚Äî type 'y' if you</span>
<span class="comment"># already allowed SSH in the previous step</span></code></pre>

        <div class="highlight warning">
          <strong>‚ö†Ô∏è Important:</strong> Always allow SSH <em>before</em> enabling the firewall. If you enable it first without allowing SSH, you'll lock yourself out of a remote machine.
        </div>

        <h3>6.6 Verify</h3>
        <pre><code>sudo ufw status</code></pre>
        <p>You should see something like this:</p>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>To</th><th>Action</th><th>From</th></tr>
            </thead>
            <tbody>
              <tr><td><code>4422/tcp</code></td><td>ALLOW IN</td><td>Anywhere</td></tr>
              <tr><td><code>Anywhere on tailscale0</code></td><td>ALLOW IN</td><td>Anywhere</td></tr>
            </tbody>
          </table>
        </div>
        <p>Status should say <strong>active</strong>. If you see these two rules, your firewall is correctly configured.</p>

        <h3>Useful UFW commands</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>Command</th><th>What it does</th></tr>
            </thead>
            <tbody>
              <tr><td><code>sudo ufw status</code></td><td>Show current rules</td></tr>
              <tr><td><code>sudo ufw allow 80/tcp</code></td><td>Allow a specific port</td></tr>
              <tr><td><code>sudo ufw deny 3000</code></td><td>Block a specific port</td></tr>
              <tr><td><code>sudo ufw delete allow 80/tcp</code></td><td>Remove a rule</td></tr>
              <tr><td><code>sudo ufw reset</code></td><td>Reset all rules to default</td></tr>
              <tr><td><code>sudo ufw disable</code></td><td>Turn off firewall</td></tr>
            </tbody>
          </table>
        </div>

        <h3>Mac &amp; Windows</h3>
        <p>UFW is Linux-only. Here's what to do on other systems:</p>

        <p><strong>Mac:</strong></p>
        <ol>
          <li>Open <strong>System Settings ‚Üí Network ‚Üí Firewall</strong></li>
          <li>Toggle it <strong>on</strong> if it isn't already</li>
          <li>Click <strong>Options</strong> to see which apps are allowed through</li>
          <li>Tailscale handles its own firewall rules automatically ‚Äî no extra config needed</li>
          <li>If you're running an SSH server (Remote Login), macOS allows it through automatically when you enable it in Sharing settings</li>
        </ol>

        <p><strong>Windows:</strong></p>
        <ol>
          <li>Windows Defender Firewall is <strong>on by default</strong> ‚Äî you don't need to enable it</li>
          <li>Tailscale configures its own firewall rules automatically during installation</li>
          <li>If SSH isn't working after installing OpenSSH Server, you may need to allow it manually:</li>
        </ol>
        <pre><code><span class="comment"># Run in PowerShell as admin:</span>
New-NetFirewallRule -Name "SSH" -DisplayName "OpenSSH Server" -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 4422</code></pre>
        <p>Change <code>4422</code> to whatever port you chose in Part 5.</p>
      </div>
    </details>
  </div>

  <!-- Part 7: Tailscale SSH -->
  <div class="section" id="part-7">
    <details>
      <summary>
        <span class="step-icon">‚ú®</span>
        Part 7 ‚Äî Tailscale SSH (Bonus)
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> Learn about Tailscale's built-in SSH ‚Äî a zero-config alternative where Tailscale handles all authentication for you. No keys, no passwords, no SSH server needed.
        </div>

        <p>Tailscale also offers its own SSH alternative that bypasses traditional SSH entirely. No SSH server, keys, or configuration needed.</p>

        <pre><code><span class="comment"># On the target machine: enable Tailscale SSH</span>
sudo tailscale set --ssh

<span class="comment"># Then from another machine:</span>
ssh home-pc
<span class="comment"># No password, no keys ‚Äî Tailscale handles everything!</span></code></pre>

        <div class="highlight">
          The easiest option, but requires trusting Tailscale with authentication. Traditional SSH + keys gives you more control.
        </div>
      </div>
    </details>
  </div>

  <!-- Part 8: Fail2Ban -->
  <div class="section" id="part-8">
    <details>
      <summary>
        <span class="step-icon">üö´</span>
        Part 8 ‚Äî Fail2Ban: Auto-Ban Attackers While You Sleep (Bonus)
      </summary>
      <div class="section-content">
        <div class="highlight">
          <strong>Goal:</strong> Set it once, forget it forever. Fail2Ban watches your server 24/7 and automatically blocks anyone trying to break in ‚Äî no babysitting required.
        </div>

        <h3>What's Fail2Ban?</h3>
        <p>Fail2Ban monitors your log files for failed login attempts. After too many failures from the same IP, it temporarily bans that address using your firewall. Think of it as a bouncer who kicks out anyone who keeps guessing the wrong password.</p>

        <h3>How it works</h3>
        <ol>
          <li>Someone tries to log in with the wrong password</li>
          <li>Fail2Ban sees the failed attempt in your logs</li>
          <li>After 5 failures ‚Üí their IP gets blocked by your firewall</li>
          <li>After 1 hour ‚Üí the ban lifts automatically</li>
        </ol>
        <p>All automatic. You don't have to do anything.</p>

        <h3>8.1 Install Fail2Ban</h3>
        <p><strong>Ubuntu/Debian:</strong></p>
        <pre><code>sudo apt update && sudo apt install fail2ban -y</code></pre>

        <h3>8.2 Create a local config</h3>
        <p>Never edit the default config directly ‚Äî create a local override instead:</p>
        <pre><code>sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
sudo nano /etc/fail2ban/jail.local</code></pre>

        <h3>8.3 Configure SSH protection</h3>
        <p>Find the <code>[sshd]</code> section (use Ctrl+W to search in nano) and make sure it looks like this:</p>
        <pre><code>[sshd]
enabled = true
port = 4422
filter = sshd
logpath = /var/log/auth.log
maxretry = 5
findtime = 10m
bantime = 1h</code></pre>

        <div class="highlight">
          <strong>What these settings mean:</strong>
          <ul>
            <li><code>port = 4422</code> ‚Äî the SSH port you set in Part 5</li>
            <li><code>maxretry = 5</code> ‚Äî ban after 5 failed attempts</li>
            <li><code>findtime = 10m</code> ‚Äî within a 10-minute window</li>
            <li><code>bantime = 1h</code> ‚Äî ban lasts 1 hour</li>
          </ul>
        </div>

        <h3>8.4 Start Fail2Ban</h3>
        <pre><code><span class="comment"># Start the service</span>
sudo systemctl start fail2ban

<span class="comment"># Enable on boot</span>
sudo systemctl enable fail2ban

<span class="comment"># Check status</span>
sudo systemctl status fail2ban</code></pre>

        <h3>8.5 Verify it's working</h3>
        <pre><code><span class="comment"># Check SSH jail status</span>
sudo fail2ban-client status sshd

<span class="comment"># Example output:</span>
Status for the jail: sshd
|- Filter
|  |- Currently failed: 0
|  |- Total failed:     3
|  `- File list:        /var/log/auth.log
`- Actions
   |- Currently banned: 0
   |- Total banned:     1
   `- Banned IP list:</code></pre>

        <h3>Useful commands</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>Command</th><th>What it does</th></tr>
            </thead>
            <tbody>
              <tr><td><code>sudo fail2ban-client status</code></td><td>Show all active jails</td></tr>
              <tr><td><code>sudo fail2ban-client status sshd</code></td><td>Show SSH jail details</td></tr>
              <tr><td><code>sudo fail2ban-client set sshd unbanip 1.2.3.4</code></td><td>Unban a specific IP</td></tr>
              <tr><td><code>sudo fail2ban-client reload</code></td><td>Reload config after changes</td></tr>
              <tr><td><code>sudo tail -f /var/log/fail2ban.log</code></td><td>Watch Fail2Ban activity</td></tr>
            </tbody>
          </table>
        </div>

        <div class="highlight">
          <strong>Note:</strong> With Tailscale, brute-force attacks from the public internet aren't a concern since your SSH port isn't exposed. But Fail2Ban is still useful if you have other services, or if you ever open ports publicly.
        </div>
      </div>
    </details>
  </div>

  <!-- Cheat Sheet -->
  <div class="section">
    <details>
      <summary>
        <span class="step-icon">üìã</span>
        Cheat Sheet ‚Äî Quick Commands
      </summary>
      <div class="section-content">
        <h3>Tailscale</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>Command</th><th>What it does</th></tr>
            </thead>
            <tbody>
              <tr><td><code>sudo tailscale up</code></td><td>Connect to your network</td></tr>
              <tr><td><code>tailscale status</code></td><td>List machines and IPs</td></tr>
              <tr><td><code>tailscale ip</code></td><td>Show your Tailscale IP</td></tr>
              <tr><td><code>sudo tailscale down</code></td><td>Disconnect</td></tr>
              <tr><td><code>sudo tailscale set --ssh</code></td><td>Enable Tailscale SSH</td></tr>
            </tbody>
          </table>
        </div>

        <h3>SSH</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>Command</th><th>What it does</th></tr>
            </thead>
            <tbody>
              <tr><td><code>ssh user@ip</code></td><td>Connect to a machine</td></tr>
              <tr><td><code>ssh -p 4422 user@ip</code></td><td>Connect on a different port</td></tr>
              <tr><td><code>ssh-keygen -t ed25519</code></td><td>Generate a key pair</td></tr>
              <tr><td><code>ssh-copy-id user@ip</code></td><td>Copy public key to target</td></tr>
              <tr><td><code>scp file.txt user@ip:~/</code></td><td>Copy file to a machine</td></tr>
              <tr><td><code>scp user@ip:~/file.txt .</code></td><td>Copy file from a machine</td></tr>
              <tr><td><code>exit</code></td><td>Close the connection</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </details>
  </div>

  <!-- Troubleshooting -->
  <div class="section">
    <details>
      <summary>
        <span class="step-icon">üîß</span>
        Troubleshooting
      </summary>
      <div class="section-content">
        <h3>SSH issues</h3>
        <ul>
          <li><strong>"Connection refused"</strong> ‚Üí SSH server isn't running. Run <code>sudo systemctl start ssh</code></li>
          <li><strong>"Connection timed out"</strong> ‚Üí Wrong IP or firewall blocking. Check <code>tailscale status</code></li>
          <li><strong>"Permission denied"</strong> ‚Üí Wrong username or password</li>
          <li><strong>"Host key verification failed"</strong> ‚Üí Machine's key changed (e.g. OS reinstall). Fix: <code>ssh-keygen -R ip-address</code></li>
        </ul>

        <h3>Tailscale issues</h3>
        <ul>
          <li><strong>Machine doesn't appear</strong> ‚Üí Is Tailscale running? <code>sudo tailscale up</code></li>
          <li><strong>Timeout</strong> ‚Üí Firewall: <code>sudo ufw allow in on tailscale0</code></li>
          <li><strong>Machines visible but SSH fails</strong> ‚Üí SSH server not installed on the target machine</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Recommended order -->
  <div class="section">
    <details>
      <summary>
        <span class="step-icon">üéØ</span>
        Recommended Order
      </summary>
      <div class="section-content">
        <ol>
          <li><strong>Install Tailscale on both machines</strong> (Part 1)</li>
          <li><strong>Install SSH server on the target machine</strong> (Part 2)</li>
          <li><strong>Connect via SSH through Tailscale</strong> (Part 2.3)</li>
          <li><strong>Set up SSH keys</strong> (Part 3) ‚Äî no password every time</li>
          <li><strong>Create an SSH config</strong> (Part 4) ‚Äî connect with one word</li>
          <li><strong>Harden security</strong> (Part 5) ‚Äî disable root, password auth</li>
          <li><strong>Set up the firewall</strong> (Part 6) ‚Äî allow SSH + Tailscale, block the rest</li>
        </ol>

        <div class="highlight">
          Don't try everything at once. Do one step, test it, then move on to the next.
        </div>
      </div>
    </details>
  </div>

  <div class="footer">
    <p>SSH + Tailscale Guide ¬∑ 2026</p>
  </div>

</div>

<script>
// Particles
(function() {
  const c = document.getElementById('particles');
  const ctx = c.getContext('2d');
  let w, h, particles = [];
  const COUNT = 40;

  function resize() {
    w = c.width = window.innerWidth;
    h = c.height = window.innerHeight;
  }

  function init() {
    resize();
    particles = [];
    for (let i = 0; i < COUNT; i++) {
      particles.push({
        x: Math.random() * w,
        y: Math.random() * h,
        r: Math.random() * 2.5 + 1,
        vx: (Math.random() - 0.5) * 0.3,
        vy: (Math.random() - 0.5) * 0.3,
        alpha: Math.random() * 0.3 + 0.1
      });
    }
  }

  function draw() {
    ctx.clearRect(0, 0, w, h);
    for (const p of particles) {
      p.x += p.vx;
      p.y += p.vy;
      if (p.x < -10) p.x = w + 10;
      if (p.x > w + 10) p.x = -10;
      if (p.y < -10) p.y = h + 10;
      if (p.y > h + 10) p.y = -10;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(52, 211, 153, ${p.alpha * 0.4})`;
      ctx.fill();
    }
    requestAnimationFrame(draw);
  }

  window.addEventListener('resize', resize);
  init();
  draw();
})();

document.querySelectorAll('.roadmap-step[data-target]').forEach(btn => {
  btn.addEventListener('click', () => {
    const target = document.getElementById(btn.dataset.target);
    if (!target) return;
    const details = target.querySelector('details');
    if (details && !details.open) details.open = true;
    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
  });
});
</script>
</body>
</html>
